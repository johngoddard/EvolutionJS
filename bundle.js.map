{"version":3,"sources":["webpack:///webpack/bootstrap 8b07ca0b412b129fbd47","webpack:///./lib/evolution.js","webpack:///./lib/simulation.js","webpack:///./lib/prey.js","webpack:///./lib/animal.js","webpack:///./lib/utils.js","webpack:///./lib/predator.js","webpack:///./lib/simulation_view.js"],"names":["window","addEventListener","canvas","document","getElementById","context","getContext","simulation","simulationView","start","Simulation","dimX","dimY","initialPred","initialPrey","DIM_X","DIM_Y","initialPredators","predators","prey","length","addPrey","addPredator","push","pos","randomPosition","velocity","Math","random","radius","color","ctx","clearRect","allAnimals","forEach","animal","draw","moveAnimals","move","x","y","Prey","options","Animal","position","otherAnimal","distance","isOutOfBounds","wrap","fillStyle","beginPath","arc","PI","fill","Util","inherits","childClass","parentClass","Surrogate","prototype","constructor","pos1","pos2","sqrt","pow","Predator","SimulationView","view","simulationID","setInterval","step"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8b07ca0b412b129fbd47\n **/","import Simulation from './simulation.js';\nimport SimulationView from './simulation_view.js';\n\nwindow.addEventListener('DOMContentLoaded', function(){\n  let canvas = document.getElementById('simulation-canvas');\n  let context = canvas.getContext('2d');\n  let simulation = new Simulation(500, 500, 5, 10);\n  let simulationView = new SimulationView(simulation, context);\n  simulationView.start();\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/evolution.js\n **/","import Prey from './prey.js';\nimport Predator from './predator.js';\n\nclass Simulation {\n  constructor(dimX, dimY, initialPred, initialPrey) {\n    this.DIM_X = dimX;\n    this.DIM_Y = dimY;\n    this.initialPredators = initialPred;\n    this.initialPrey = initialPrey;\n    this.predators = [];\n    this.prey = [];\n\n    while(this.prey.length < this.initialPrey){\n      this.addPrey();\n    }\n\n    while(this.predators.length < this.initialPredators){\n      this.addPredator();\n    }\n  }\n\n  addPrey(){\n    this.prey.push(new Prey({\n      pos: this.randomPosition(),\n      velocity: [10 * (.5 - Math.random()), 10 * (.5 - Math.random())],\n      radius: 5,\n      color: 'blue',\n      simulation: this\n    }));\n  }\n\n  addPredator(){\n    this.predators.push(new Predator({\n      pos: this.randomPosition(),\n      velocity: [10 * (.5 - Math.random()), 10 * (.5 - Math.random())],\n      radius: 10,\n      color: 'red',\n      simulation: this\n    }));\n  }\n\n  allAnimals(){\n    return [...this.prey, ...this.predators];\n  }\n\n  draw(ctx){\n    ctx.clearRect(0, 0, this.DIM_X, this.DIM_Y);\n    this.allAnimals().forEach(animal => {\n      animal.draw(ctx);\n    });\n  }\n\n  step(){\n    this.moveAnimals();\n  }\n\n  moveAnimals(){\n    this.allAnimals().forEach(animal => {\n      animal.move();\n    });\n  }\n\n  randomPosition() {\n    return [this.DIM_X * Math.random(), this.DIM_Y * Math.random()];\n  }\n\n  isOutOfBounds(pos){\n    if(pos[0] > this.DIM_X || pos[0] < this.DIM_X || pos[1] > this.DIM_Y || pos[1] < this.DIM_Y){\n      return true;\n    }\n    return false;\n  }\n\n  wrap(pos){\n    const x = (pos[0] + this.DIM_X) % this.DIM_X;\n    const y = (pos[1] + this.DIM_Y) % this.DIM_Y;\n    return [x,y];\n  }\n}\n\nexport default Simulation;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulation.js\n **/","import Animal from './animal.js';\n\nclass Prey extends Animal {\n  constructor(options){\n    super(options);\n  }\n\n}\n\nexport default Prey;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/prey.js\n **/","import Util from './utils.js';\n\nclass Animal {\n  constructor(options) {\n    this.position = options['pos'];\n    this.velocity = options['velocity'];\n    this.radius = options['radius'];\n    this.color = options['color'];\n    this.simulation = options['simulation'];\n  }\n\n  isTouching(otherAnimal){\n    if(Util.distance(this.pos, otherAnimal.pos) < this.radius + otherAnimal.radius){\n      return true;\n    }\n    return false;\n  }\n\n  move(){\n    this.position[0] += this.velocity[0];\n    this.position[1] += this.velocity[1];\n    if(this.simulation.isOutOfBounds(this.position)){\n      this.position = this.simulation.wrap(this.position);\n    }\n  }\n\n  draw(ctx){\n    ctx.fillStyle = this.color;\n    ctx.beginPath();\n\n    ctx.arc(\n      this.position[0],\n      this.position[1],\n      this.radius,\n      0,\n      2 * Math.PI,\n      false\n    );\n\n    ctx.fill();\n  }\n}\n\nexport default Animal;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/animal.js\n **/","const Util = {\n  inherits: function(childClass, parentClass){\n    function Surrogate(){}\n    Surrogate.prototype = parentClass.prototype;\n    childClass.prototype = new Surrogate();\n    childClass.prototype.constructor = childClass;\n  },\n\n  distance: function(pos1, pos2){\n    return Math.sqrt(Math.pow((pos1[0] - pos2[0]), 2) +\n    Math.pow((pos1[1] - pos2[1]), 2));\n  }\n};\n\nexport default Util; \n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/utils.js\n **/","import Animal from './animal.js';\n\nclass Predator extends Animal {\n  constructor(options){\n    super(options);\n  }\n\n}\n\nexport default Predator;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/predator.js\n **/","class SimulationView {\n  constructor(simulation, ctx) {\n    this.simulation = simulation;\n    this.ctx = ctx;\n  }\n\n  start(){\n    let view = this;\n\n    this.simulationID = window.setInterval(() => {\n      view.simulation.draw(view.ctx);\n      view.simulation.step();\n    }, 30);\n  }\n}\n\nexport default SimulationView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/simulation_view.js\n **/"],"sourceRoot":""}